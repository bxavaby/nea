<!doctype html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <!-- <meta name="robots" content="noindex, nofollow" /> -->
        <meta name="theme-color" content="#100f13" id="theme-color-meta" />
        <meta property="og:title" content="nü-entroarch" />
        <meta
            property="og:description"
            content="an archive of code 'n code stuff"
        />
        <!-- <meta property="og:image:type" content="image/gif" /> -->
        <meta
            property="og:image"
            content="https://bxavaby.github.io/nea/assets/imgs/al.png"
        />
        <meta property="og:image:width" content="1200" />
        <meta property="og:image:height" content="630" />

        <meta property="og:url" content="https://bxavaby.github.io/nea/" />
        <meta property="og:type" content="website" />

        <meta name="twitter:card" content="summary_large_image" />
        <meta name="twitter:title" content="nü-entroarch" />
        <meta name="twitter:description" content="chronicling the computable" />
        <meta
            name="twitter:image"
            content="https://bxavaby.github.io/nea/assets/imgs/al.png"
        />

        <meta
            name="rights"
            content="Content © 2025 bxavaby, licensed under CC BY-NC 4.0"
        />
        <link
            rel="license"
            href="https://creativecommons.org/licenses/by-nc/4.0/"
        />
        <title>nü-entroarch</title>
        <link
            rel="icon"
            type="image/png"
            href="assets/fi/favicon-96x96.png"
            sizes="96x96"
        />
        <link rel="icon" type="image/svg+xml" href="assets/fi/favicon.svg" />
        <link rel="shortcut icon" href="assets/fi/favicon.ico" />
        <link
            rel="apple-touch-icon"
            sizes="180x180"
            href="assets/fi/apple-touch-icon.png"
        />
        <meta name="apple-mobile-web-app-title" content="nea" />
        <link rel="manifest" href="assets/fi/site.webmanifest" />

        <link rel="stylesheet" href="css/styles.css" />
        <link rel="stylesheet" href="css/themes.css" />
    </head>
    <body class="trash-panda">
        <header>
            <div class="header-title">
                <h1><a href="">nü-entroarch</a></h1>
                <p class="sub-header">chronicling the computable</p>
                <!-- <button id="theme-toggle">+</button> -->
            </div>
        </header>

        <main>
            <section class="entries-stack">
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/dotfiles.html">dotfiles</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/nautical-polar-night.html"
                    >naponi</a
                >
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/quick-bash.html"
                    >quick-bash</a
                >
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/shell-stack.html"
                    >shell-stack</a
                >
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/xxxxxxxx.html">xxxxxxxx</a>
                <a class="entry-title" href="entries/zig-allocators.html"
                    >zig-allocators</a
                >
            </section>
        </main>

        <footer>
            <!-- <span
                class="footer-link"
                href="https://matrix.to/#/@kixkux:matrix.org"
                target="_blank"
                rel="noopener noreferrer"
                class="view-more"
                >{matrix}</span
            > -->
            <span class="footer-left" id="theme-toggle">[NÜ MODE]</span>
            <span class="footer-center" id="entry-count"></span>
            <span class="footer-right" id="last-commit">JAN 2088</span>
            <!-- <span class="footer-center-below">chronicling the computable</span> -->
        </footer>

        <script src="js/theme.js"></script>
        <script>
            document.addEventListener("DOMContentLoaded", () => {
                // Theme switcher
                const themeSwitcher = new ThemeSwitcher();
                themeSwitcher.init();

                const toggleButton = document.getElementById("theme-toggle");

                if (toggleButton) {
                    toggleButton.addEventListener("click", () => {
                        themeSwitcher.toggleTheme();
                    });
                }

                // Entry counter
                const entryCount =
                    document.querySelectorAll(".entry-title").length;
                const entryCountEl = document.getElementById("entry-count");

                const animateCount = (element, finalCount) => {
                    let currentCount = 0;
                    const duration = 1000;
                    const stepTime = Math.abs(
                        Math.floor(duration / finalCount),
                    );

                    const timer = setInterval(() => {
                        currentCount += 1;
                        element.textContent = `n = ${currentCount}`;
                        if (currentCount === finalCount) {
                            clearInterval(timer);
                        }
                    }, stepTime);
                };

                if (entryCountEl) {
                    // entryCountEl.textContent = `n = ${entryCount}`;
                    animateCount(entryCountEl, entryCount);
                }

                // Last commit date
                const owner = "bxavaby";
                const repo = "nea";
                const apiUrl = `https://api.github.com/repos/${owner}/${repo}/commits`;
                const updateElement = document.getElementById("last-commit");

                fetch(apiUrl)
                    .then((response) => {
                        if (!response.ok) {
                            throw new Error(
                                `GitHub API request failed: ${response.status}`,
                            );
                        }
                        return response.json();
                    })
                    .then((commits) => {
                        if (commits && commits.length > 0) {
                            const lastCommitDate = new Date(
                                commits[0].commit.author.date,
                            );

                            // Format: MMM YYYY
                            const formattedDate = lastCommitDate
                                .toLocaleDateString("de-DE", {
                                    month: "short",
                                    year: "numeric",
                                })
                                .toUpperCase();

                            if (updateElement) {
                                updateElement.textContent = formattedDate;
                            }
                        }
                    })
                    .catch((error) => {
                        console.error(
                            "Could not fetch last commit date:",
                            error,
                        );
                        // Fallback to "JAN 2088"
                    });
            });
        </script>
    </body>
</html>
